# MCP Team Memory Server

Self-hosted –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–ª—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## –ß—Ç–æ —ç—Ç–æ?

**MCP Team Memory** –ø–æ–∑–≤–æ–ª—è–µ—Ç Claude, GPT –∏ –¥—Ä—É–≥–∏–º LLM –ø–æ–º–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏. –í–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ò–∑–æ–ª—è—Ü–∏—è |
|-----------|------------|----------|
| **Memory (Mem0)** | –ê–≤—Ç–æ–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ–≤ | Per user |
| **Knowledge Base** | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º | Shared |
| **Cognee** | –ì—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π (—Å—É—â–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–∏) | Shared |

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      VPS Server                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                            ‚îÇ
‚îÇ  ‚îÇ   Nginx     ‚îÇ  /{project}/mcp/?key=API_KEY               ‚îÇ
‚îÇ  ‚îÇ  (–ø–æ—Ä—Ç 80)  ‚îÇ  –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                            ‚îÇ
‚îÇ         ‚îÇ                                                   ‚îÇ
‚îÇ         ‚ñº                                                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ           Unified MCP Server (FastMCP)               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Memory ‚îÇ  ‚îÇ   KB   ‚îÇ  ‚îÇ Cognee ‚îÇ                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ Tools  ‚îÇ  ‚îÇ Tools  ‚îÇ  ‚îÇ Tools  ‚îÇ                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ         ‚îÇ           ‚îÇ           ‚îÇ                          ‚îÇ
‚îÇ         ‚ñº           ‚ñº           ‚ñº                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îÇ
‚îÇ  ‚îÇ  Mem0    ‚îÇ  ‚îÇ FAISS  ‚îÇ  ‚îÇ  Neo4j   ‚îÇ                   ‚îÇ
‚îÇ  ‚îÇ + Qdrant ‚îÇ  ‚îÇ Index  ‚îÇ  ‚îÇ GraphDB  ‚îÇ                   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îÇ
‚îÇ       ‚îÇ                                                    ‚îÇ
‚îÇ       ‚ñº                                                    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                 Ollama (LLM)                         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ qwen3:8b - —ç–∫—Å—Ç—Ä–∞–∫—Ü–∏—è —Ñ–∞–∫—Ç–æ–≤, Cognee             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ nomic-embed-text - —ç–º–±–µ–¥–¥–∏–Ω–≥–∏                    ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
git clone https://github.com/your-repo/mcp-team-memory.git
cd mcp-team-memory

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å NEO4J_AUTH, API –∫–ª—é—á–∏
```

### 2. –ó–∞–ø—É—Å–∫

```bash
docker compose up -d
```

### 3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

Claude Code (`.mcp.json`):
```json
{
  "mcpServers": {
    "team-memory": {
      "type": "http",
      "url": "http://YOUR_SERVER/{project}/mcp/?key=YOUR_API_KEY"
    }
  }
}
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Memory (Mem0)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞.**

| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| –ê–≤—Ç–æ–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ | LLM –≤—ã–¥–µ–ª—è–µ—Ç —Ñ–∞–∫—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ | –ü–æ–∏—Å–∫ –ø–æ —Å–º—ã—Å–ª—É, –Ω–µ —Å–ª–æ–≤–∞–º |
| User isolation | –ü—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–∞–º—è—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ |
| –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è | –ü–æ–≤—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–ª—è—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ |
| –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ | –¢–µ–≥–∏ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
```
memory_add(content, user_id?, metadata?)
memory_search(query, user_id?, limit?)
memory_get_all(user_id?, limit?)
memory_delete(memory_id)
memory_get_users()
```

### Knowledge Base

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º. –û–±—â–∞—è –¥–ª—è –∫–æ–º–∞–Ω–¥—ã.**

| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| Markdown –¥–æ–∫—É–º–µ–Ω—Ç—ã | .md —Ñ–∞–π–ª—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π |
| Chunking | –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏ —Å overlap |
| –ú–Ω–æ–∂–µ—Å—Ç–≤–æ KB | –†–∞–∑–Ω—ã–µ –±–∞–∑—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π |
| FAISS –∏–Ω–¥–µ–∫—Å | –ë—ã—Å—Ç—Ä—ã–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ |

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
```
kb_add(knowledge_base, filename, content)
kb_search(knowledge_base, query, limit?)
kb_list()
kb_stats(knowledge_base)
kb_reindex(knowledge_base)
```

### Cognee (Knowledge Graph)

**–ì—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏ —Å–≤—è–∑—è–º–∏.**

| –§–∏—á–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| –≠–∫—Å—Ç—Ä–∞–∫—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π | –õ—é–¥–∏, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ |
| –°–≤—è–∑–∏ | uses, implements, depends_on |
| Neo4j | –ì—Ä–∞—Ñ–æ–≤–∞—è –ë–î –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ |
| Insights | –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã |

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
```
cognee_add(content, source?)
cognee_search(query, search_type?)
cognee_graph_stats()
cognee_get_entities(entity_type?, limit?)
cognee_get_relationships(entity_id?, limit?)
```

## User Isolation

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Project: {project}              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üîí –ü–†–ò–í–ê–¢–ù–û–ï (per user)                    ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ alice: [–µ—ë –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è]               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ bob: [–µ–≥–æ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è]                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üåê –û–ë–©–ï–ï (per project)                     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Knowledge Base                         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Cognee Graph                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| `PROJECT_ID` | ID –ø—Ä–æ–µ–∫—Ç–∞ | terra |
| `COGNEE_ENABLED` | –í–∫–ª—é—á–∏—Ç—å Cognee | true |
| `LLM_MODEL` | –ú–æ–¥–µ–ª—å –¥–ª—è Cognee | qwen3:8b |
| `OLLAMA_LLM_MODEL` | –ú–æ–¥–µ–ª—å –¥–ª—è Mem0 | qwen3:8b |
| `OLLAMA_EMBEDDING_MODEL` | Embeddings | nomic-embed-text |

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### –û—Ç–∫–ª—é—á–∏—Ç—å LLM –¥–ª—è Mem0

```yaml
mem0-{project}:
  environment:
    - OLLAMA_LLM_MODEL=  # –ü—É—Å—Ç–æ–µ
```

**–ü–æ—Ç–µ—Ä–∏:** –ê–≤—Ç–æ–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–∞–∫—Ç–æ–≤, –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
**–û—Å—Ç–∞—ë—Ç—Å—è:** –ë–∞–∑–æ–≤–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫

#### –û—Ç–∫–ª—é—á–∏—Ç—å Cognee

```yaml
unified-{project}:
  environment:
    - COGNEE_ENABLED=false
```

**–ü–æ—Ç–µ—Ä–∏:** –ì—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π, —Å—É—â–Ω–æ—Å—Ç–∏, —Å–≤—è–∑–∏
**–û—Å—Ç–∞—ë—Ç—Å—è:** Memory + Knowledge Base

#### –ú–∏–Ω–∏–º—É–º (—Ç–æ–ª—å–∫–æ KB)

```yaml
mem0-{project}:
  deploy:
    replicas: 0
unified-{project}:
  environment:
    - COGNEE_ENABLED=false
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** ~1 GB RAM

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | CPU | RAM | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
|--------------|-----|-----|------------|
| –ú–∏–Ω–∏–º—É–º | 2 vCPU | 4 GB | KB only |
| –°—Ç–∞–Ω–¥–∞—Ä—Ç | 4 vCPU | 8 GB | Memory + KB |
| –ü–æ–ª–Ω–∞—è | 4+ dedicated | 16 GB | All + Cognee |

> **–í–∞–∂–Ω–æ:** Cognee —Ç—Ä–µ–±—É–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö CPU. –ù–∞ vCPU –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ.

## API

### Health Check

```bash
curl http://server/{project}/health
```

```json
{
  "status": "healthy",
  "project_id": "terra",
  "cognee_enabled": true,
  "isolation": {
    "memory": "per_user",
    "knowledge_base": "shared_per_project",
    "cognee": "shared_per_project"
  }
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–∞–º—è—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

```python
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ
memory_add(
    content="–ò—Å–ø–æ–ª—å–∑—É–µ—Ç VSCode —Å Vim mode, –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç TypeScript",
    user_id="alexey"
)

# –ß–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é –Ω–∞–π—Ç–∏
memory_search(query="—Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏", user_id="alexey")
```

### –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –∫–æ–º–∞–Ω–¥—ã

```python
# –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
kb_add(
    knowledge_base="architecture",
    filename="rls.md",
    content="# RLS\n\nRow Level Security –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è..."
)

# –ü–æ–∏—Å–∫
kb_search(knowledge_base="architecture", query="tenant isolation")
```

### –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ –≥—Ä–∞—Ñ
cognee_add(
    content="API Gateway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Moleculer.js –∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç NATS",
    source="arch"
)

# –ù–∞–π—Ç–∏ —Å–≤—è–∑–∏
cognee_search(query="—á—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç NATS", search_type="insights")
```

## Troubleshooting

### Cognee –æ—à–∏–±–∫–∏ validation

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞–ª–µ–Ω—å–∫–∞—è –º–æ–¥–µ–ª—å (gemma3:1b) –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å qwen3:8b:
```yaml
environment:
  - LLM_MODEL=qwen3:8b
```

### Memory –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å–∏

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `user_id` –ø—Ä–∏ add –∏ search
2. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
3. Mem0 –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã

### 502 Bad Gateway

```bash
docker exec mcp-nginx nginx -s reload
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mcp-team-memory/
‚îú‚îÄ‚îÄ docker-compose.yml      # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ nginx/                  # Nginx –∫–æ–Ω—Ñ–∏–≥–∏ –∏ API –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ unified-mcp/            # Unified MCP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ main.py             # FastMCP —Å Memory + KB + Cognee
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ mem0-src/               # Mem0 —Ñ–æ—Ä–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Ollama
‚îú‚îÄ‚îÄ gateway/                # Legacy MCP Gateway
‚îú‚îÄ‚îÄ knowledge-base/         # –§–∞–π–ª—ã KB (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îî‚îÄ‚îÄ init-scripts/           # –°–∫—Ä–∏–ø—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
